#define DX_MAIN_HANDLES
(
   (dx_main_on_enter
      DX_SET_SERVER_LOCALE ; dx - change button and label text when connected to ashcentral
      {dx_presence_manager}
      {dx_sv_menu_logo_set sv3_panel}
      {set $dx_random_number {random_int 0 4096}}
      {if {== $dx_random_number 2112}
         {dx_passive_messenger you_lost}
      }
      {do
         ($year $month $day $hour $minute $second)
         {get_date_time $year $month $day $hour $minute $second}
         {if
            {&&
               {! $dx_msg_birth}
               ;{> $year 2023}
               {== $month 10}
               {== $day 25}
            }
            {set $dx_msg_birth TRUE}
            {dx_passive_messenger_symbol "Happy Birthday Shiloh!"}
         }
      }
      #ifndef STORE_ENABLED
      {$this disable mb_musicstore.btn}
      {mb_musicstore.btn set_showing FALSE}
      #endif
      #ifdef HX_XBOX
      {content_mgr start_refresh}
      #endif
      {if {|| {! $screensaver} {! $gotcha} {modifier_mgr is_modifier_active mod_auto_play}}
         DX_MAIN_BUTTON_DISABLER
      }
   )
   (dx_unlock_pre_orders
      {switch {{$player get_user} get_slot_num}
         (0
            {main_hub_panel unlock_gamestop_award 0}
            {main_hub_panel unlock_x79_award 0}
            {main_hub_panel unlock_d2010_award 0}
         )
         (1
            {main_hub_panel unlock_gamestop_award 1}
            {main_hub_panel unlock_x79_award 1}
            {main_hub_panel unlock_d2010_award 1}
         )
         (2
            {main_hub_panel unlock_gamestop_award 2}
            {main_hub_panel unlock_x79_award 2}
            {main_hub_panel unlock_d2010_award 2}
         )
         (3
            {main_hub_panel unlock_gamestop_award 3}
            {main_hub_panel unlock_x79_award 3}
            {main_hub_panel unlock_d2010_award 3}
         )
      }
   )
   (dx_check_dx
      {unless {file_exists DX_SETTINGS_FILE_PATH}
         {unless $dxwelcomeseen
            {dx_log_writer info {sprint "Cannot find DX.dta"}}
            {ui push_screen hint_dx_welcome_screen}
         }
      }
   )
   (dx_check_xeniawrites
      {unless {file_exists DX_SETTINGS_FILE_PATH}
         {if $dxwelcomeseen
            {unless $dx_settings_error
               {dx_log_writer info {sprint "Cannot write DX.dta"}}
               {ui push_screen hint_relative_writes_screen}
            }
         }
      }
   )
)